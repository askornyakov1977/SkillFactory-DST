# Дипломный проект: Обнаружение аномалий в данных мониторинга процессингового центра

## Описание проекта

Компания предоставляющая процессинговые услуги, хочет построить модель, которая бы прогнозировала на сутки вперед показания мониторинга процессинга в его штатном состоянии. Данный прогноз будет использоваться для обнаружения аномалий, путем ежеминутного сравнения актуальных значений мониторинга с интервалом прогнозирования штатного состояния. 

На текущий момент обнаружение аномалий в процессинге компании осуществляется путем выявления показаний мониторинга находящимися за пределами пороговых значений. Данный метод не предполагает установки пороговых значений автоматически, а только в ручную экспертной оценкой. Кроме того каждый день, примерно в одно и тоже время показания мониторинга выходят за пределы порогов срабатывания. И как следствие в потоке повседневных единичных срабатываний есть вероятность пропустить реальный инцидент. 

В случае же выявления аномалий методами машинного обучения, необходимось выставлять пороги ручным способом отпадет, т.к. на каждую минуту будут вычислены индивидуальные пороговые значения ввиде интервала прогнозирования штатного (обычного, повседневного) состояния системы. Соответсвенно ложные срабатывания мониторинга должны значительно сократиться. Модель будет прогозировать штатные максиально-приближенные показания мониторинга на каждую минуту следующих суток на основе анологичных минут нескольких десятков прошедших суток. Для предсказания штатного состояния процессинга, обучающая выборка должна быть очищена от аномальных выбросов путем замены их медианой за соотвествующую минуту всех суток. Аномальными выбросами считаются значения выходящие за пределы 95% максимально удаленные от максимума и минимума в соотвествующую минуту, т.е. выходящие за пределы 0,3 и 0,98 квантилей. К вычесленной скалярной величине прогноза на кажддую минуту будет прибавляться произведение z-критического (число стандартных отклонений от гауссовского распределения) и несмещеной оценки стандартного отклонения для прогнозируемого распределения (остаточная стандартная ошибка прогноза относительно предшествующих значений). Полученный таким образом интевал прогонозирования на каждую минуту, будет выстраивать область штатных значений мониторинга. Механизм выявления аномалий предпологает ежеминутное обнаружение актуальных значений мониторинга за пределами соотвествующих прогнозных интервалов обыного состояния системы. Кроме всего, прочего есть необходимость предсказывать надвигающиеся аномалии заблаговремеено, путем вычисления аппроксимации актуальных значений могиторинга методом МНК за определенное количество прошедших минут и продолжения полученной линии на определенное количество минут в будущее от текущего момента времени. Забегание линейной регресии за пределы области прогнозирования будет сигналом для службы технической поддежки процессига к принятию проактивных мер.

Условия:
- Решение оформляется только в Jupyter Notebook.
- Активно используется визуализация и делаются выводы из неё в своём решении.
- Анализируются способы решения задачи / подготовливается baseline для своего решения и показывает превосходство своего решения.
- Выбранные методы соответствуют решаемой задаче или методы не соответствуют решаемой задаче, но их использование позволяет добиться существенного улучшения качества.
- Корректно используется комплекс из современных методов ML, выполняется сравнение их результатов, и это адекватно решаемой задаче.
- Выполняется корректная установка экспериментов, что гарантирует воспроизводимость решения.
- Предложенное решение уже реализовано студентом в продакшене, в виде отдельных PY-файлов.
- Используются инструменты, которые не были рассмотрены в курсе, и это улучшает качество его решения.
- Код верный, соответствует стандартам оформления, имеет документацию.
- Ноутбук загружен со своим решением на GitHub, оформвлен в соответствии с требованиями.
- Код читаем и понятен: имена переменных и функций отражают их сущность, важно избегать многострочных конструкций и условий.
- Получена обратнуая связь от команды курса.
- Решение должно использовать только пройденный материал: переменные, основные структуры данных (списки, словари, множества), циклы, функции, библиотеки numpy, pandas, matplotlib, seaborn, plotly.  Все задания решаются с помощью уже знакомых методов.
- Используется руководство PEP 8.
- Графики оформляются в соответствии с теми правилами, которые мы приводили [в модуле по визуализации данных](https://lms.skillfactory.ru/courses/course-v1:SkillFactory+DST-3.0+28FEB2021/jump_to_id/f18cdc4b64f1486aa89201de8696cfb7).
- **Обязательное требование**: графики должны содержать название, отражающее их суть, и подписи осей.
- Выводы к графикам оформляются в формате Markdown под самим графиком в отдельной ячейке. Выводы должны быть представлены в виде небольших связанных предложений на русском языке.

Что практикуем:
Написание хорошего кода на Python, оформление строк документации для функций и коментариев к коду, навыки работы с библиотеками pandas, matplotlib, seaborn, plotly. Оформление проекта на GitHub в соответствии с требованиями. Работа с основными инструментами для работы дата-сайентиста: 
    IDE;
    GitHub;
    Jupyter Notebook;
    Google Colab.


## Этапы работы над проектом

1 . Базовый анализ структуры данных.
2 . Преобразование данных.
3 . Разведывательный анализ.
4 . Обучение моделей.
5 . Построение прогнозов и интервалов прогнозирования.
6 . Разработка и моделирование механизма определения аномалий. 
